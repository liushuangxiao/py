status = ["晴天", "阴天", "雨天"]
p = {"晴天": 0.5, "阴天": 0.2, "雨天": 0.3}
ps = {
    "晴天": {"晴天": 0.6, "阴天": 0.3, "雨天": 0.1},
    "雨天": {"晴天": 0.4, "阴天": 0.3, "雨天": 0.3},
    "阴天": {"晴天": 0.4, "阴天": 0.4, "雨天": 0.2}
}

start = "阴天"
ex = ["晴天", "晴天", "晴天"]

exp = 1
for e in ex:
    exp = ps[start][e] * exp
    start = e

print(exp)